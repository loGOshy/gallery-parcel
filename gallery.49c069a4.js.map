{"version":3,"sources":["gallery-items.js","gallery.js"],"names":["preview","original","description","refs","galleryList","document","querySelector","lightbox","imgInLightbox","createMarkup","images","galleryMarkup","map","img","join","insertAdjacentHTML","addEventListener","appearanceOfLightbox","activImagesRefs","currentPicture","event","preventDefault","target","nodeName","classList","add","openImgInModal","clickInOverflow","pressEscOrArrows","querySelectorAll","obj","setAttribute","dataset","source","alt","closureOfLightbox","removeEventListener","remove","nextImg","key","previosImg","objOfImg","arr","forEach","push","currentIndex","indexOf","nextIndex","length"],"mappings":"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","file":"gallery.49c069a4.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n","import images from './gallery-items.js';\r\n\r\nconst refs = {\r\n    galleryList: document.querySelector('.js-gallery'),\r\n    lightbox: document.querySelector('.js-lightbox'),\r\n    imgInLightbox: document.querySelector('.lightbox__image'),\r\n    }\r\n\r\nrefs.galleryList.insertAdjacentHTML('beforeend', createMarkup(images));\r\n\r\nrefs.galleryList.addEventListener('click', appearanceOfLightbox);\r\n\r\nfunction createMarkup (images) {\r\n    const galleryMarkup = images.map(img =>   \r\n        // console.log(img);     \r\n        `<li class=\"gallery__item\">\r\n        <a class=\"gallery__link\"\r\n          href=\"${img.original}\">\r\n          <img\r\n            class=\"gallery__image\"\r\n            src=\"${img.preview}\"\r\n            loading=\"lazy\"\r\n            data-source=\"${img.original}\"\r\n            alt=\"${img.description}\"\r\n          />\r\n        </a>\r\n      </li>`\r\n    ).join(' ');\r\n    return galleryMarkup;\r\n}\r\n\r\nlet activImagesRefs = [];\r\nlet currentPicture = {};\r\n\r\nfunction appearanceOfLightbox (event) {\r\n    event.preventDefault();\r\n    if (event.target.nodeName !== 'IMG') {\r\n        return\r\n    }\r\n    refs.lightbox.classList.add('is-open');\r\n    openImgInModal(event.target);   \r\n    \r\n    refs.lightbox.addEventListener('click', clickInOverflow);\r\n    document.addEventListener('keydown', pressEscOrArrows);\r\n\r\n    activImagesRefs = document.querySelectorAll('.gallery__image'); \r\n    currentPicture = event.target;         \r\n}\r\n\r\nfunction openImgInModal (obj){\r\n    refs.imgInLightbox.setAttribute(\"src\", obj.dataset.source);\r\n    refs.imgInLightbox.setAttribute(\"alt\", obj.alt);\r\n}\r\n\r\nfunction closureOfLightbox () {\r\n    refs.lightbox.removeEventListener('click', clickInOverflow);\r\n    document.removeEventListener('keydown', pressEscOrArrows);\r\n    refs.imgInLightbox.setAttribute(\"src\", '');\r\n    refs.imgInLightbox.setAttribute(\"alt\", '');    \r\n    refs.lightbox.classList.remove('is-open');    \r\n}\r\n\r\nfunction clickInOverflow (event) {\r\n    if (event.target.nodeName === 'IMG') {\r\n        return nextImg (currentPicture);\r\n    }\r\n   closureOfLightbox();\r\n}\r\n\r\nfunction pressEscOrArrows (event) {\r\n    if(event.key === 'Escape') {\r\n        closureOfLightbox()\r\n    } else if(event.key === 'ArrowRight'){\r\n        nextImg(currentPicture);\r\n    } else if(event.key === 'ArrowLeft'){\r\n        previosImg(currentPicture);\r\n    }        \r\n}\r\n\r\nfunction nextImg (objOfImg) {   \r\n    const arr = [];\r\n   \r\n    activImagesRefs.forEach(img => arr.push(img.dataset.source));\r\n    const currentIndex = arr.indexOf(objOfImg.dataset.source);\r\n    const nextIndex = currentIndex + 1;\r\n        if(currentIndex === arr.length - 1){\r\n            currentPicture = activImagesRefs[0]\r\n        } else {\r\n            currentPicture = activImagesRefs[nextIndex]\r\n        }\r\n        openImgInModal(currentPicture);    \r\n}\r\n\r\nfunction previosImg(objOfImg){\r\n    const arr = [];\r\n   \r\n    activImagesRefs.forEach(img => arr.push(img.dataset.source));\r\n    const currentIndex = arr.indexOf(objOfImg.dataset.source);\r\n    const nextIndex = currentIndex - 1;\r\n        if(currentIndex === 0){\r\n            currentPicture = activImagesRefs[arr.length - 1]\r\n        } else {\r\n            currentPicture = activImagesRefs[nextIndex]\r\n        }\r\n        openImgInModal(currentPicture);\r\n    \r\n}\r\n\r\n"]}